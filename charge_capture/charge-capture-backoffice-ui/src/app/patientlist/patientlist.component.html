<h3>Patient List</h3>

<div class="panel panel-default" style="padding-top: 1%;width: 99%;">
  <div class="panel-heading" style="background-color: #e9ecef;margin-top: -1%;height: 3em">Patient Details
    
  </div>
  <div class="panel-body">
    <div class="container" style="width: 100%">
      <div class="row">
        <nav class="navbar" style="width: 30%">
          <input class="form-control " placeholder="Search with Patient Name" type="text" name="searchString" [(ngModel)]="searchString">
        </nav>
        
        <table class="table">
          <thead>
            <tr>
              
              <th (click)="sort('firstName')" width="9%">Patient Name
                <!-- <span style="float: right;" class="glyphicon sort-icon" *ngIf="key =='firstName'" [ngClass]="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
                <span *ngIf="firstNameIconSHow"><i class="fa fa-sort" aria-hidden="true"></i></span> -->
                
                <i class="fa" [ngClass]="{'fa-sort': column != 'firstName', 'fa-sort-asc': (column == 'firstName' && isDesc), 'fa-sort-desc': (column == 'firstName' && !isDesc) }" aria-hidden="true"> </i>
              </th>
              <th (click)="sort('dateOfBirth')" width="9%">Date Of Birth
                <!-- <span style="float: right;" class="glyphicon sort-icon" *ngIf="key =='dateOfBirth'" [ngClass]="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
                <span *ngIf="dateOfBirthIconSHow"><i class="fa fa-sort" aria-hidden="true"></i></span> -->
                <i class="fa" [ngClass]="{'fa-sort': column != 'dateOfBirth', 'fa-sort-asc': (column == 'dateOfBirth' && isDesc), 'fa-sort-desc': (column == 'dateOfBirth' && !isDesc) }" aria-hidden="true"> </i>
              </th>
              <th (click)="sort('providerFirstName')" width="9%">Physician
                <!-- <span style="float: right;" class="glyphicon sort-icon" *ngIf="key =='providerFirstName'" [ngClass]="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
                <span *ngIf="providerFirstNameIconSHow"><i class="fa fa-sort" aria-hidden="true"></i></span> -->
                <i class="fa" [ngClass]="{'fa-sort': column != 'providerFirstName', 'fa-sort-asc': (column == 'providerFirstName' && isDesc), 'fa-sort-desc': (column == 'providerFirstName' && !isDesc) }" aria-hidden="true"> </i>
              </th>
              <th (click)="sort('facility')" width="9%">Facility/Location
                <!-- <span style="float: right;" class="glyphicon sort-icon" *ngIf="key =='facility'" [ngClass]="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
                <span *ngIf="facilityIconSHow"><i class="fa fa-sort" aria-hidden="true"></i></span> -->
                <i class="fa" [ngClass]="{'fa-sort': column != 'facility', 'fa-sort-asc': (column == 'facility' && isDesc), 'fa-sort-desc': (column == 'facility' && !isDesc) }" aria-hidden="true"> </i>
              </th>
              <th (click)="sort('dateOfService')" width="9%">Date Of Service
                <!-- <span style="float: right;" class="glyphicon sort-icon" *ngIf="key =='dateOfService'" [ngClass]="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
                <span *ngIf="dateOfServiceIconSHow"><i class="fa fa-sort" aria-hidden="true"></i></span> -->
                <i class="fa" [ngClass]="{'fa-sort': column != 'dateOfService', 'fa-sort-asc': (column == 'dateOfService' && isDesc), 'fa-sort-desc': (column == 'dateOfService' && !isDesc) }" aria-hidden="true"> </i>
              </th>
              <th width="19%" style="cursor: default;">CPT
                <!-- <span style="float: right;" class="glyphicon sort-icon" *ngIf="key =='cpt'" [ngClass]="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
                <span *ngIf="cptIconSHow"><i class="fa fa-sort" aria-hidden="true"></i></span> -->
                <!-- <i class="fa" [ngClass]="{'fa-sort': column != 'cpt', 'fa-sort-asc': (column == 'cpt' && isDesc), 'fa-sort-desc': (column == 'cpt' && !isDesc) }" aria-hidden="true"> </i> -->
              </th>
              <th  width="19%" style="cursor: default;">ICD
                <!-- <span style="float: right;" class="glyphicon sort-icon" *ngIf="key =='icd'" [ngClass]="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
                <span *ngIf="icdIconSHow"><i class="fa fa-sort" aria-hidden="true"></i></span> -->
                <!-- <i class="fa" [ngClass]="{'fa-sort': column != 'icd', 'fa-sort-asc': (column == 'icd' && isDesc), 'fa-sort-desc': (column == 'icd' && !isDesc) }" aria-hidden="true"> </i> -->
              </th>
              <th (click)="sort('status')" width="5%">Status
                <!-- <span style="float: right;" class="glyphicon sort-icon" *ngIf="key =='status'" [ngClass]="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
                <span *ngIf="statusIconSHow"><i class="fa fa-sort" aria-hidden="true"></i></span> -->
                <i class="fa" [ngClass]="{'fa-sort': column != 'status', 'fa-sort-asc': (column == 'status' && isDesc), 'fa-sort-desc': (column == 'status' && !isDesc) }" aria-hidden="true"> </i>
              </th>
              <th width="5%">Action</th>
            </tr>
          </thead>
          <tbody *ngIf="!showLoader">
            <tr *ngFor="let detail of filteredFinalArray | orderBy: {property: column, direction: direction} | filter : 'patientdetail.firstName' : searchString | paginate: { itemsPerPage: 5, currentPage: pagenumber } ; let i = index">
              <td>{{getPatientName(detail.patientdetail)}}</td>
              <td>{{detail.patientdetail.dateOfBirth}}</td>
              <td>{{getPatientName(detail.provider)}}</td>
              <td>{{detail.patientdetail.facility.name}}</td>
              <td>{{detail.dateOfService | date: 'MM-dd-yyyy'}}</td>
              <td>{{detail.cpdValues}}</td>
              <td>{{detail.icdValues}}</td>
              <td>{{detail.status}}</td>
              <td>
                <a class="btn" (click)="navigateToDetails(detail)" title="Edit patient details"><i style="font-size: 20px;color:#2199e8" class="fa fa-edit"></i></a>
              </td>
            </tr>
          </tbody>
          <tbody *ngIf="showLoader">
              <div class="loader" style="margin-left: 153%;margin-top: 3%"></div>
          </tbody>
        </table>
        <div class="pull-right" *ngIf="!showLoader">
          <pagination-controls (pageChange)="pagenumber = $event" style="margin-left: 60%"></pagination-controls>
        </div>

      </div>
    </div>
  </div>
</div>